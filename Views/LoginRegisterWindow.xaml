<Window
    x:Class="Proyecto_Interfaces.Views.LoginRegisterWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Iniciar sesión o registrarse"
    Width="450"
    Height="600"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <LinearGradientBrush x:Key="WindowBackgroundBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Offset="0" Color="#F8F9FA" />
            <GradientStop Offset="1" Color="#E6F2FF" />
        </LinearGradientBrush>

        <DropShadowEffect
            x:Key="ModalShadow"
            BlurRadius="20"
            Opacity="0.3"
            ShadowDepth="6"
            Color="#000000" />

        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="0,12" />
            <Setter Property="Padding" Value="14,12" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="#2A9D8F" />
            <Setter Property="BorderThickness" Value="1.5" />
            <Setter Property="Foreground" Value="#2D2D2D" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="4" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="PasswordBox">
            <Setter Property="Margin" Value="0,12" />
            <Setter Property="Padding" Value="14,12" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="#2A9D8F" />
            <Setter Property="BorderThickness" Value="1.5" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="4" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#2A9D8F" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="15" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Padding" Value="18,12" />
            <Setter Property="Margin" Value="0,20,0,10" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            CornerRadius="8"
                            Effect="{StaticResource ModalShadow}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E76F51" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#2A9D8F" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0,10" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <TextBlock
                            HorizontalAlignment="Center"
                            Foreground="{TemplateBinding Foreground}"
                            Text="{TemplateBinding Content}"
                            TextDecorations="Underline" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#E76F51" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="{StaticResource WindowBackgroundBrush}">
        <Border
            Margin="20"
            Padding="30"
            Background="White"
            CornerRadius="8"
            Effect="{StaticResource ModalShadow}">
            <StackPanel>
                <TextBlock
                    x:Name="TitleTextBlock"
                    Margin="0,0,0,20"
                    HorizontalAlignment="Center"
                    FontSize="22"
                    FontWeight="Bold"
                    Foreground="#2A9D8F"
                    Text="¡Hola, viajero! 🌍" />

                <TextBox
                    x:Name="TxtUsuario"
                    Foreground="#888"
                    GotFocus="TxtUsuario_GotFocus"
                    LostFocus="TxtUsuario_LostFocus"
                    Text="Nombre de usuario" />

                <PasswordBox x:Name="TxtPassword" PasswordChar="●" />


                <TextBox
                    x:Name="TxtEmail"
                    Margin="0,12,0,0"
                    Padding="14,12"
                    Background="White"
                    BorderBrush="#2A9D8F"
                    BorderThickness="1.5"
                    FontSize="14"
                    Foreground="#2D2D2D"
                    Style="{StaticResource {x:Type TextBox}}"
                    Text="Email (opcional)"
                    Visibility="Collapsed" />
                <Button
                    x:Name="PrimaryButton"
                    Width="321"
                    Height="40"
                    Click="OnPrimaryButtonClick"
                    Content="🔐 Iniciar sesión"
                    Style="{StaticResource PrimaryButton}" />

                <TextBlock
                    x:Name="ToggleTextBlock"
                    Margin="0,15,0,10"
                    HorizontalAlignment="Center"
                    Cursor="Hand"
                    Foreground="#2A9D8F"
                    MouseLeftButtonDown="OnToggleModeClick"
                    Text="¿Aún no tienes cuenta? Regístrate aquí"
                    TextDecorations="Underline" />


                <TextBlock
                    x:Name="MessageTextBlock"
                    HorizontalAlignment="Center"
                    Foreground="Red"
                    TextWrapping="Wrap"
                    Visibility="Collapsed" />

            </StackPanel>
        </Border>
    </Grid>
</Window>