<Window
    x:Class="Proyecto_Interfaces.Views.LoginRegisterWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    Title="Iniciar sesión o registrarse"
    Width="450"
    Height="600"
    WindowStyle="None"
    AllowsTransparency="True"
    Background="Transparent"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterOwner"
    MouseLeftButtonDown="OnWindowDrag"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    TextElement.FontWeight="Regular"
    TextElement.FontSize="13"
    TextOptions.TextFormattingMode="Ideal"
    TextOptions.TextRenderingMode="Auto"
    FontFamily="{DynamicResource MaterialDesignFont}">

    <Window.Resources>
        <LinearGradientBrush x:Key="WindowBackgroundBrush" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Offset="0" Color="#F8F9FA" />
            <GradientStop Offset="1" Color="#E6F2FF" />
        </LinearGradientBrush>

        <DropShadowEffect
            x:Key="ModalShadow"
            BlurRadius="20"
            Opacity="0.3"
            ShadowDepth="6"
            Color="#000000" />
    </Window.Resources>

    <Border Background="{StaticResource WindowBackgroundBrush}" CornerRadius="12">
        <Grid>
            <Border
                Margin="10"
                Padding="40"
                Background="White"
                CornerRadius="8"
                Effect="{StaticResource ModalShadow}">
                <StackPanel>
                    <TextBlock
                        x:Name="TitleTextBlock"
                        Margin="0,0,0,30"
                        HorizontalAlignment="Center"
                        FontSize="24"
                        FontWeight="Bold"
                        Foreground="{DynamicResource PrimaryHueMidBrush}"
                        Text="¡Hola, viajero! 🌍" />

                    <TextBox
                        x:Name="TxtUsuario"
                        Margin="0,0,0,20"
                        materialDesign:HintAssist.Hint="Nombre de usuario"
                        Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                        FontSize="16" />

                    <PasswordBox
                        x:Name="TxtPassword"
                        Margin="0,0,0,20"
                        materialDesign:HintAssist.Hint="Contraseña"
                        Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                        FontSize="16" />

                    <TextBox
                        x:Name="TxtEmail"
                        Margin="0,0,0,20"
                        materialDesign:HintAssist.Hint="Email (opcional)"
                        Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                        FontSize="16"
                        Visibility="Collapsed" />

                    <Button
                        x:Name="PrimaryButton"
                        Height="50"
                        Margin="0,20,0,10"
                        materialDesign:ButtonAssist.CornerRadius="8"
                        Click="OnPrimaryButtonClick"
                        Content="🔐 INICIAR SESIÓN"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="#F2F2F2"
                        Style="{StaticResource MaterialDesignRaisedButton}" />

                    <TextBlock
                        x:Name="ToggleTextBlock"
                        Margin="0,20,0,10"
                        HorizontalAlignment="Center"
                        Cursor="Hand"
                        Foreground="{DynamicResource PrimaryHueMidBrush}"
                        MouseLeftButtonDown="OnToggleModeClick"
                        Text="¿Aún no tienes cuenta? Regístrate aquí"
                        TextDecorations="Underline" />

                    <TextBlock
                        x:Name="MessageTextBlock"
                        HorizontalAlignment="Center"
                        Foreground="{DynamicResource ErrorHueMidBrush}"
                        TextWrapping="Wrap"
                        Visibility="Collapsed" />

                </StackPanel>
            </Border>

            <!-- Botón de Cerrar -->
            <Button
                Width="32"
                Height="32"
                Margin="0,15,15,0"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Click="OnCloseClick"
                Style="{StaticResource MaterialDesignIconForegroundButton}"
                ToolTip="Cerrar">
                <materialDesign:PackIcon Kind="Close" Width="24" Height="24" Foreground="#555"/>
            </Button>
        </Grid>
    </Border>
</Window>