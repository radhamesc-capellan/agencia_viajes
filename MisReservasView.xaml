<UserControl
    x:Class="Proyecto_Interfaces.MisReservasView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <DropShadowEffect
            x:Key="CardShadow"
            BlurRadius="12"
            Opacity="0.2"
            ShadowDepth="3"
            Color="#000000" />


        <Style x:Key="CancelarButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Height" Value="32" />
            <Setter Property="Width" Value="120" />
            <Setter Property="Margin" Value="10,15,0,0" />
            <Setter Property="Background" Value="#E76F51" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#D45A3F" />
                                <Setter Property="FontSize" Value="16" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer Margin="0,0,0,10" VerticalScrollBarVisibility="Auto">
        <StackPanel>

            <TextBlock
                Margin="0,0,0,20"
                HorizontalAlignment="Center"
                FontSize="24"
                FontWeight="Bold"
                Foreground="#2A9D8F"
                Text="Mis Reservas" />


            <ItemsControl x:Name="ReservasList" Margin="0,0,0,20">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Margin="0,0,0,10"
                            Background="White"
                            CornerRadius="8"
                            Effect="{StaticResource CardShadow}">
                            <Grid Margin="20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>


                                <Image
                                    Grid.Column="0"
                                    Width="100"
                                    Height="100"
                                    Margin="0,0,15,0"
                                    Source="{Binding Producto.ImagenPrincipal}"
                                    Stretch="UniformToFill" />


                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock
                                        FontSize="18"
                                        FontWeight="SemiBold"
                                        Foreground="#2A9D8F"
                                        Text="{Binding Producto.Titulo}" />
                                    <TextBlock
                                        Margin="0,5,0,0"
                                        FontSize="12"
                                        Foreground="#666"
                                        Text="{Binding Producto.Descripcion}"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        Margin="0,5,0,0"
                                        FontSize="12"
                                        Foreground="#666"
                                        Text="{Binding Reserva.FechaReserva, StringFormat='Fecha: {0:dd/MM/yyyy}'}" />
                                    <TextBlock
                                        Margin="0,5,0,0"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="Black"
                                        Text="{Binding Producto.Precio, StringFormat='Precio: €{0:F2}'}" />
                                </StackPanel>


                                <Button
                                    Grid.Column="2"
                                    Margin="10,0,0,0"
                                    Click="OnCancelarReservaClick"
                                    Content="Cancelar"
                                    Style="{StaticResource CancelarButtonStyle}"
                                    Tag="{Binding Reserva.Id}" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </ScrollViewer>
</UserControl>